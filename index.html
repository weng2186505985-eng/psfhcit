<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#fef5f5">
    <title>PsycheFit - 依恋风格测试</title>
    
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="bg-circle bg-circle-1"></div>
    <div class="bg-circle bg-circle-2"></div>
    <div class="bg-circle bg-circle-3"></div>

    <div class="container">
        <div class="header" id="header">
            <div class="logo">
                <div class="logo-icon">🌱</div>
                <span>PsycheFit</span>
            </div>
            <div class="settings-icon" onclick="showSettings()">⚙️</div>
        </div>

        <div class="welcome-screen" id="welcomeScreen">
            <div class="badge">
                <span>💚</span>
                <span>10万+ 正在寻找内心平静</span>
            </div>
            <h1 class="main-title">
                发现你的<br>
                <span class="highlight">内在连接</span>
            </h1>
            <p class="subtitle">
                温和地了解你的依恋风格。治愈关系的道路从内心开始。
            </p>
            <button class="start-button" onclick="startTest()">
                开始旅程
                <span>→</span>
            </button>
            <div class="time-info">
                <span>🕐</span>
                <span>平静的6分钟</span>
            </div>
        </div>

        <div class="test-screen" id="testScreen">
            <div class="progress-section">
                <div class="progress-bar-container">
                    <div class="progress-bar-fill" id="progressFill"></div>
                </div>
            </div>
            <div class="question-area">
                <div class="question-container">
                    <h2 class="question-title" id="questionTitle"></h2>
                    <div class="options" id="optionsContainer"></div>
                </div>
            </div>
            <div class="test-footer">
                <button class="back-button" id="backButton" onclick="previousQuestion()">
                    <span>←</span>
                    <span>返回上一题</span>
                </button>
            </div>
        </div>

        <div class="reflection-screen" id="reflectionScreen">
            <div class="reflection-icon">🌸</div>
            <h2 class="reflection-title">正在分析你的依恋模式...</h2>
            <p class="reflection-subtitle">请稍等片刻，我们正在为你生成专属报告</p>
            
            <div class="analysis-progress">
                <div class="progress-label">
                    <span>分析进度</span>
                    <span class="progress-percentage" id="progressPercentage">0%</span>
                </div>
                <div class="progress-bar-container-loading">
                    <div class="progress-bar-fill-loading" id="loadingProgressBar"></div>
                </div>
                
                <div class="progress-steps">
                    <div class="progress-step" id="step1">
                        <div class="step-icon">1</div>
                        <div class="step-text">收集回答数据</div>
                    </div>
                    <div class="progress-step" id="step2">
                        <div class="step-icon">2</div>
                        <div class="step-text">分析依恋模式</div>
                    </div>
                    <div class="progress-step" id="step3">
                        <div class="step-icon">3</div>
                        <div class="step-text">生成个性化洞察</div>
                    </div>
                    <div class="progress-step" id="step4">
                        <div class="step-icon">4</div>
                        <div class="step-text">准备成长建议</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="result-screen" id="resultScreen">
            <div id="resultContent"></div>
            <div class="action-buttons">
                <button class="premium-button" onclick="showPremiumOffer()">📦 获取行动包（小红书发货）</button>
                <button class="share-button" onclick="shareResult()">📊 分享结果</button>
                <button class="restart-button" onclick="restartTest()">🔄 重新测试</button>
            </div>
        </div>
    </div>

    <div class="modal" id="modal">
        <div class="modal-content">
            <h3 class="modal-title" id="modalTitle"></h3>
            <p class="modal-desc" id="modalDesc"></p>
            <div class="modal-buttons">
                <button class="modal-button modal-button-secondary" onclick="closeModal()">取消</button>
                <button class="modal-button modal-button-primary" id="modalConfirm">确认</button>
            </div>
        </div>
    </div>

    <div class="toast" id="toast">
        <span class="toast-icon" id="toastIcon">✓</span>
        <span id="toastMessage">进度已保存</span>
    </div>

    <script src="js/data.js"></script>
    <script src="js/script.js"></script>
</body>
</html>
